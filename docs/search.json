[
  {
    "objectID": "reflection-template.html",
    "href": "reflection-template.html",
    "title": "Independent Learning (IL):",
    "section": "",
    "text": "Download the source code for the template here:\nreflection-template.qmd"
  },
  {
    "objectID": "reflection-template.html#il-1-adding-new-skills",
    "href": "reflection-template.html#il-1-adding-new-skills",
    "title": "Independent Learning (IL):",
    "section": "[IL-1] Adding new skills:",
    "text": "[IL-1] Adding new skills:\n\nI can find and adopt new packages to accomplish tasks.\nI can adapt to different syntax styles (tidy, base, formula style, data.table).\n\n\nLevel: 3\n\n\nJustification: In this lab assignment, I was able to use the rnaturalearth package to more seamlessly blend the hoverable dots on my leaflet plot. You can see that here:\nAgreement vs disagreement"
  },
  {
    "objectID": "reflection-template.html#il-2-online-resources",
    "href": "reflection-template.html#il-2-online-resources",
    "title": "Independent Learning (IL):",
    "section": "[IL-2] Online resources:",
    "text": "[IL-2] Online resources:\n\nI can use online resources (e.g., Google, ChatGPT, StackOverflow, YouTube) to solve problems, debug, or find new tools.\nI can use tutorials, etc. to enhance my understanding of new concepts.\nI can find source code for similar projects to use as starting points for my own.\n\n\nLevel: 3\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#il-summary",
    "href": "reflection-template.html#il-summary",
    "title": "Independent Learning (IL):",
    "section": "IL Summary",
    "text": "IL Summary"
  },
  {
    "objectID": "reflection-template.html#rw-1-file-code-and-data-management",
    "href": "reflection-template.html#rw-1-file-code-and-data-management",
    "title": "Independent Learning (IL):",
    "section": "[RW-1] File, code, and data management:",
    "text": "[RW-1] File, code, and data management:\n\nI can use Git and GitHub to track my progress (creating repos, cloning, forking, pull requesting).\nI always use R Projects and the {here} package to organize my scripts, notebooks, data, and applications.\nI always use pull requests when collaborating with others.\n\n\nLevel: 3\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#rw-2-notebooks",
    "href": "reflection-template.html#rw-2-notebooks",
    "title": "Independent Learning (IL):",
    "section": "[RW-2] Notebooks:",
    "text": "[RW-2] Notebooks:\n\nI can use Quarto to produce a reproducible notebook and polished rendered documents\nI can use appropriate chunk options (echo, error, cache, etc.) to render my Quarto document quickly and cleanly.\n\n\nLevel: 3\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#rw-3-code-style",
    "href": "reflection-template.html#rw-3-code-style",
    "title": "Independent Learning (IL):",
    "section": "[RW-3] Code style",
    "text": "[RW-3] Code style\n\nMy code is clear, readable, well-organized, and well-commented.\n\n\nLevel: 3\n\n\nJustification"
  },
  {
    "objectID": "reflection-template.html#rw-summary",
    "href": "reflection-template.html#rw-summary",
    "title": "Independent Learning (IL):",
    "section": "RW Summary",
    "text": "RW Summary"
  },
  {
    "objectID": "reflection-template.html#tc-1-project-summaries",
    "href": "reflection-template.html#tc-1-project-summaries",
    "title": "Independent Learning (IL):",
    "section": "[TC-1] Project summaries:",
    "text": "[TC-1] Project summaries:\n\nI can create clear and succinct summaries of a project.\nI accurately interpret statistical or modeling results.\nI consider the appropriate scope and impact of my project results.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#tc-2-documentation",
    "href": "reflection-template.html#tc-2-documentation",
    "title": "Independent Learning (IL):",
    "section": "[TC-2] Documentation:",
    "text": "[TC-2] Documentation:\n\nI can create a user-friendly dashboard.\nI provide ample documentation for my custom functions.\n\n\nLevel: 3\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#tc-summary",
    "href": "reflection-template.html#tc-summary",
    "title": "Independent Learning (IL):",
    "section": "TC Summary",
    "text": "TC Summary"
  },
  {
    "objectID": "reflection-template.html#dm-1-data-preparation",
    "href": "reflection-template.html#dm-1-data-preparation",
    "title": "Independent Learning (IL):",
    "section": "[DM-1] Data Preparation",
    "text": "[DM-1] Data Preparation\n\nI can read in datasets to R, including untidy ones.\nI can clean datasets to deal with missing data, typos, poor formatting, etc.\n\n\nLevel: 2\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#dm-2-data-wrangling",
    "href": "reflection-template.html#dm-2-data-wrangling",
    "title": "Independent Learning (IL):",
    "section": "[DM-2] Data Wrangling",
    "text": "[DM-2] Data Wrangling\n\nI can cleverly use pivoting, separating, grouping, and joining to wrangle data.\nI can use mapping (purrr) to perform repeated tasks.\n\n\nLevel: 2\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#dm-3-data-formats",
    "href": "reflection-template.html#dm-3-data-formats",
    "title": "Independent Learning (IL):",
    "section": "[DM-3] Data Formats",
    "text": "[DM-3] Data Formats\n\nI can use API urls to access JSON data and convert it into a data frame\nI can scrape data from the web and convert it into a data frame\n\n\n## Fill in the line below with your self-assigned level for this objective.\nmy_level &lt;- 1\n\nportfolio_levels &lt;- portfolio_levels %&gt;%\n  bind_rows(tibble(Objective = \"DM-3\", \n                   Level = my_level))\n\n\nLevel: 1\n\n\nJustification"
  },
  {
    "objectID": "reflection-template.html#dm-summary",
    "href": "reflection-template.html#dm-summary",
    "title": "Independent Learning (IL):",
    "section": "DM Summary",
    "text": "DM Summary"
  },
  {
    "objectID": "reflection-template.html#pv-1-clear-accessible-visualizations",
    "href": "reflection-template.html#pv-1-clear-accessible-visualizations",
    "title": "Independent Learning (IL):",
    "section": "[PV-1] Clear & Accessible Visualizations",
    "text": "[PV-1] Clear & Accessible Visualizations\n\nI can make my plots more clear by removing the legend and adding annotations.\nI can edit the titles, subtitles, captions, axis labels, etc. to create a clearly labelled plot.\nI can choose colors (“scales”) and themes to make a visually pleasing and accessible plot.\n\n\nLevel: 3\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#pv-2-dynamic-visualizations",
    "href": "reflection-template.html#pv-2-dynamic-visualizations",
    "title": "Independent Learning (IL):",
    "section": "[PV-2] Dynamic Visualizations",
    "text": "[PV-2] Dynamic Visualizations\n\nI can use a package like {gganimate} to create self-contained gifs.\nI can use a package like {plotly}, {ggplotly}, {leaflet}, {ggirafe}, etc. to make interactive html widgets.\n\n\nLevel: 3\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#pv-3-interactive-visualizations",
    "href": "reflection-template.html#pv-3-interactive-visualizations",
    "title": "Independent Learning (IL):",
    "section": "[PV-3] Interactive Visualizations",
    "text": "[PV-3] Interactive Visualizations\n\nI can use Shiny or webR to create visualizations that react to a user’s input.\n\n\nLevel: 2\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#pv-summary",
    "href": "reflection-template.html#pv-summary",
    "title": "Independent Learning (IL):",
    "section": "PV Summary",
    "text": "PV Summary"
  },
  {
    "objectID": "reflection-template.html#cdai-1-r-programming-language",
    "href": "reflection-template.html#cdai-1-r-programming-language",
    "title": "Independent Learning (IL):",
    "section": "[CDAI-1] R Programming Language",
    "text": "[CDAI-1] R Programming Language\n\nI understand non-standard evaluation (aka “tidy eval” or “unquoted objects”), and I can use tunneling in my functions.\nI understand functional programming, and I can use functions as objects in my code design.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#cdai-2-object-handling",
    "href": "reflection-template.html#cdai-2-object-handling",
    "title": "Independent Learning (IL):",
    "section": "[CDAI-2] Object Handling",
    "text": "[CDAI-2] Object Handling\n\nI have built in checks for possible input problems\nI can make reasonable choices in my code design about when to save intermediate objects.\nI can convert objects between types and structures as needed.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#cdai-3-speed-and-efficiency",
    "href": "reflection-template.html#cdai-3-speed-and-efficiency",
    "title": "Independent Learning (IL):",
    "section": "[CDAI-3] Speed and Efficiency",
    "text": "[CDAI-3] Speed and Efficiency\n\nI can recognize moments of possible slowdown in my code, and use built-in functions or parallelizing to speed them up.\nI always use and design vectorized functions whenever possible.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#cdai-4-supporting-functions",
    "href": "reflection-template.html#cdai-4-supporting-functions",
    "title": "Independent Learning (IL):",
    "section": "[CDAI-4] Supporting Functions",
    "text": "[CDAI-4] Supporting Functions\n\nI write helper / shortcut functions to streamline repeated tasks and make my code easier to read.\nI use intermediate functions to streamline repeated or looping processes.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#cdai-5-algorithmic-process",
    "href": "reflection-template.html#cdai-5-algorithmic-process",
    "title": "Independent Learning (IL):",
    "section": "[CDAI-5] Algorithmic Process",
    "text": "[CDAI-5] Algorithmic Process\n\nI can invent and implement my own iterative algorithm.\nMy loops are clean and efficient.\nI have built in checks for possible problems or extreme cases in the algorithm.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#cdai-6-generative-art",
    "href": "reflection-template.html#cdai-6-generative-art",
    "title": "Independent Learning (IL):",
    "section": "[CDAI-6] Generative Art",
    "text": "[CDAI-6] Generative Art\n\nI can apply a variety of generative art functions to make a visually pleasing piece.\nI can explain why particular changes to the code result in particular differences in the visualization.\n\n\nLevel: 1\n\n\nJustification:"
  },
  {
    "objectID": "reflection-template.html#cdai-summary",
    "href": "reflection-template.html#cdai-summary",
    "title": "Independent Learning (IL):",
    "section": "CDAI Summary",
    "text": "CDAI Summary"
  },
  {
    "objectID": "reflection-template.html#grade",
    "href": "reflection-template.html#grade",
    "title": "Independent Learning (IL):",
    "section": "Grade",
    "text": "Grade\nBased on the summary plot above, I believe I have earned a ____ in STAT 541.\n\nJustification"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "posts/2025-05-05-advanced-visualizations/index.html",
    "href": "posts/2025-05-05-advanced-visualizations/index.html",
    "title": "Advanced visualizations",
    "section": "",
    "text": "Create a Quarto file for ALL Lab 2 (no separate files for Parts 1 and 2).\n\nMake sure your final file is carefully formatted, so that each analysis is clear and concise.\nBe sure your knitted .html file shows all your source code, including any function definitions."
  },
  {
    "objectID": "posts/2025-05-05-advanced-visualizations/index.html#dissecting-a-bad-visualization",
    "href": "posts/2025-05-05-advanced-visualizations/index.html#dissecting-a-bad-visualization",
    "title": "Advanced visualizations",
    "section": "Dissecting a Bad Visualization",
    "text": "Dissecting a Bad Visualization\nBelow is an example of a less-than-ideal visualization from the collection linked above. It comes to us from data provided for the Wellcome Global Monitor 2018 report by the Gallup World Poll:\n\n\nWhile there are certainly issues with this image, do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nIt appears that this image is trying to represent the proportions of people in each country that answered affirmatively to the statement “Vaccines are safe”. That data come from the year 2018, and are grouped by global region. We can see that the median affirmative answer in each global region increases from the bottom of the plot to the top.\n\nList the variables that appear to be displayed in this visualization. Hint: Variables refer to columns in the data.\n\nVariables include:\n\nPercentage of people who believe that vaccines are safe\nGlobal region\nRegion medians\nCountries\n\n\nNow that you’re versed in the grammar of graphics (e.g., ggplot), list the aesthetics used and which variables are mapped to each.\n\nThe aesthetics map to variables in the following ways:\n\nx is mapped to proportion of the population that believes that vaccines are safe\ny is mapped to…nothing?\ncolor is mapped to goblal region\nlabel is mapped individual country names\nEach point represents the proportion of a country’s pro-vacc’ers, and is drawn with geom_point()\n\nVertical lines are added using geom_vline() to show regional medians, which increase as one looks higher in the plot\n\n\nWhat type of graph would you call this? Meaning, what geom would you use to produce this plot?\n\nThis appears to be a scatterplot that also creates a quasi-faceting effect by grouping countries based on region, and then separating them vertically depending on the median proportion of belief in vaccine safety in each global region. I would use geom_point() to create this plot.\n\nProvide at least four problems or changes that would improve this graph. Please format your changes as bullet points!\n\nFour ways to improve this plot are:\n\nEliminate the legend\nDouble-code the points to further distinguish them beyond color\nEliminate the appearance of the y-axis in each facet representing something quantitative\nMake points clickable so that one can see percentages for individual countries\n[Bonus] I would add a search bar so that someone can search for individual countries"
  },
  {
    "objectID": "posts/2025-05-05-advanced-visualizations/index.html#improving-the-bad-visualization",
    "href": "posts/2025-05-05-advanced-visualizations/index.html#improving-the-bad-visualization",
    "title": "Advanced visualizations",
    "section": "Improving the Bad Visualization",
    "text": "Improving the Bad Visualization\nThe data for the Wellcome Global Monitor 2018 report can be downloaded at the following site: https://wellcome.ac.uk/reports/wellcome-global-monitor/2018\n\nThere are two worksheets in the downloaded dataset file. You may need to read them in separately, but you may also just use one if it suffices.\n\nlibrary(readxl)\nlibrary(tidyverse)\n\n\nwgm_raw &lt;- read_excel(\"wgm2018-dataset-crosstabs-all-countries.xlsx\", skip = 2)\n\n\nwgm_clean &lt;- wgm_raw %&gt;%\n  tidyr::fill(Question) \n\n\nregion_map &lt;- list(\n  \"Asia\" = c(\"Afghanistan\", \"Bangladesh\", \"India\", \"Iran\", \"Nepal\", \"Pakistan\", \"Sri Lanka\",\n             \"Cambodia\", \"Indonesia\", \"Laos\", \"Malaysia\", \"Myanmar\", \"Philippines\", \"Singapore\",\n             \"Thailand\", \"Vietnam\", \"China\", \"Japan\", \"Mongolia\", \"South Korea\", \"Taiwan\"),\n  \"Middle East and North Africa\" = c(\"Algeria\", \"Egypt\", \"Libya\", \"Morocco\", \"Tunisia\", \"Iraq\",\n             \"Israel\", \"Jordan\", \"Kuwait\", \"Lebanon\", \"Palestinian Territories\", \"Saudi Arabia\",\n             \"Turkey\", \"United Arab Emirates\", \"Yemen\"),\n  \"Sub-Saharan Africa\" = c(\"Burundi\", \"Comoros\", \"Ethiopia\", \"Kenya\", \"Madagascar\", \"Malawi\", \n             \"Mauritius\", \"Mozambique\", \"Rwanda\", \"Tanzania\", \"Uganda\", \"Zambia\", \"Zimbabwe\",\n             \"Benin\", \"Burkina Faso\", \"Ghana\", \"Guinea\", \"Ivory Coast\", \"Liberia\", \"Mali\", \n             \"Mauritania\", \"Niger\", \"Nigeria\", \"Senegal\", \"Sierra Leone\", \"The Gambia\", \"Togo\",\n             \"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\", \"Cameroon\", \"Chad\", \n             \"Republic of the Congo\", \"Gabon\"),\n  \"Americas\" = c(\"Costa Rica\", \"Dominican Republic\", \"El Salvador\", \"Guatemala\", \"Haiti\", \n             \"Honduras\", \"Mexico\", \"Nicaragua\", \"Panama\", \"Argentina\", \"Bolivia\", \"Brazil\", \n             \"Chile\", \"Colombia\", \"Ecuador\", \"Paraguay\", \"Peru\", \"Uruguay\", \"Venezuela\", \n             \"Canada\", \"United States\"),\n  \"Europe\" = c(\"Denmark\", \"Estonia\", \"Finland\", \"Iceland\", \"Ireland\", \"Latvia\", \"Lithuania\", \n             \"Norway\", \"Sweden\", \"United Kingdom\", \"Albania\", \"Bosnia and Herzegovina\", \n             \"Croatia\", \"Cyprus\", \"Greece\", \"Italy\", \"Malta\", \"North Macedonia\", \"Montenegro\", \n             \"Portugal\", \"Serbia\", \"Slovenia\", \"Spain\", \"Austria\", \"Belgium\", \"France\", \n             \"Germany\", \"Luxembourg\", \"Netherlands\", \"Switzerland\"),\n  \"Former Soviet Union\" = c(\"Armenia\", \"Azerbaijan\", \"Georgia\", \"Kazakhstan\", \"Kyrgyzstan\", \n             \"Tajikistan\", \"Turkmenistan\", \"Uzbekistan\", \"Belarus\", \"Bulgaria\", \n             \"Czech Republic\", \"Hungary\", \"Moldova\", \"Poland\", \"Romania\", \"Russia\", \n             \"Slovakia\", \"Ukraine\")\n)\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\nwgm_agree &lt;- wgm_clean %&gt;%\n  filter(\n    Question == \"Q25 Do you strongly or somewhat agree, strongly or somewhat disagree or neither agree nor disagree with the following statement? Vaccines are safe.\",\n    Response %in% c(\"Strongly agree\", \"Somewhat agree\")\n  ) %&gt;%\n  group_by(Country) %&gt;%\n  summarise(\n    percent_agree = sum(`Column N %...4`, na.rm = TRUE)\n  ) %&gt;%\n  arrange(desc(percent_agree))\n\n\ncountry_to_region &lt;- unlist(lapply(names(region_map), function(region) {\n  setNames(rep(region, length(region_map[[region]])), region_map[[region]])\n})\n)\n\n\nwgm_agree &lt;- wgm_agree %&gt;%\n  mutate(Region = country_to_region[Country],\n         Region = ifelse(is.na(Region), \"Other/Unclassified\", Region))\n\n\nlibrary(plotly)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(forcats)\nlibrary(ggridges)\nlibrary(crosstalk)\nlibrary(bslib)\nlibrary(htmltools)\n\n\nwgm_agree_filtered &lt;- wgm_agree %&gt;%\n  filter(Region != \"Unclassified\") %&gt;%\n  mutate(Region = fct_reorder(Region, percent_agree, .fun = median))\n\n\nshared_data &lt;- SharedData$new(wgm_agree_filtered)\n\n\n# Base plot\np &lt;- ggplot(shared_data, aes(x = percent_agree, y = Region, fill = Region)) +\n  geom_density_ridges(scale = 1.2, alpha = 0.6, color = \"white\") +\n  geom_point(\n    aes(text = paste(\"Country:\", Country, \"&lt;br&gt;Score:\",\n                     round(percent_agree * 100, 1), \"%\")),\n    position = position_jitter(height = 0.1),\n    size = 2,\n    color = \"black\"\n  ) +\n  scale_x_continuous(\n    limits = c(0.2, 1.0),\n    labels = scales::percent_format(accuracy = 1)\n  ) +\n  labs(\n    x = \"Agreement\",\n    y = NULL\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    legend.position = \"none\"\n  )\n\n\n# Interactive plot\nplotly_obj &lt;- ggplotly(p, tooltip = \"text\") %&gt;%\n  layout(\n    title = list(\n      text = \"&lt;b&gt;Belief that Vaccines are Safe by Region&lt;/b&gt;\",\n      x = 0,\n      xanchor = \"left\",\n      y = 0.95,\n      yanchor = \"top\",\n      font = list(size = 20, family = \"Arial\", color = \"black\")\n    )\n  )\n\n\n# Combine search bar and plot (stacked vertically)\nbrowsable(\n  tagList(\n    filter_select(id = \"country\",\n                  label = \"Select Country\",\n                  sharedData = shared_data,\n                  group = ~Country),\n    plotly_obj\n  )\n)\n\n\nSelect Country"
  },
  {
    "objectID": "posts/2025-05-05-advanced-visualizations/index.html#second-data-visualization-improvement",
    "href": "posts/2025-05-05-advanced-visualizations/index.html#second-data-visualization-improvement",
    "title": "Advanced visualizations",
    "section": "Second Data Visualization Improvement",
    "text": "Second Data Visualization Improvement\nFor this second plot, you must select a plot that uses maps so you can demonstrate your proficiency with the leaflet package!\n\nSelect a data visualization in the report that you think could be improved. Be sure to cite both the page number and figure title. Do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\n\nOriginal image (Source: Wellcome Global Monitor, 2018, p. 92.)\n This plot intends to show the net percentages of people in each global region who believe that technology will lead to an increase in jobs within their country in the next five years. Global regions are listed, as well as an average for the world. Bars are colored to indicate positive or negative net increase, and a line at x = 0 is shown.\n\nList the variables that appear to be displayed in this visualization.\n\nVariables include:\n\nGlobal regions\nNet impact score of technology on jobs in the next five years (percentage of people who said “Increase” minus percentage of people who said “Decrease”)\nPositive vs Negative net percentages (color coded as Yellow or Dark Blue)\n\n\nNow that you’re versed in the grammar of graphics (ggplot), list the aesthetics used and which variables are specified for each.\n\n\nx is mapped to net percentage of the population in the global region that believes that jobs will increase in the next five years due to technology\ny is mapped to the global region\nfill is mapped to whether the net percentage is positive or negative\n\n\nWhat type of graph would you call this?\n\nI wold call this a horizontal bar chart. I would use geom_bar() to create this plot.\n\nList all of the problems or things you would improve about this graph.\n\nThis plot is already pretty reader friendly. And I will be turning it into a map. But if I were to keep it as a bar chart, the details I would change include:\n\nColorizing the description so that “Increase” is Yellow and “Decrease” is Dark Blue.\nI would remove the percentage markers at the end of each bar and make the bars hoverable so there are fewer numbers on the page.\nI would make the “World” bar a different color and more prominent. I actually missed that detail the first time I looked at it.\nI would include fewer x-axis labels. Every unit of 5 does not need to be included if the bars are hoverable\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\n\nAgreement vs Disagreement that Technology Will Increase the Number of Jobs in My Country in the Next Five Years\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(leaflet)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(sf)\nlibrary(htmltools)\n\n\n# Pull just Q19 responses\nq19_overall &lt;- wgm_clean %&gt;%\n  filter(Question == \"Q19 Overall, do you think that science and technology will increase or decrease the number of jobs in your local area in the next five years?\") %&gt;%\n  select(Country, Response, OverallPercent = `Column N %...4`) %&gt;%\n  distinct() %&gt;%\n  pivot_wider(names_from = Response, values_from = OverallPercent)\n\n\n# Clean summary table\nq19_final &lt;- q19_overall %&gt;%\n  select(Country, Increase, Decrease) %&gt;%\n  mutate(Total = Increase - Decrease)\n\n\n# Get country centroids\nworld &lt;- ne_countries(scale = \"medium\", returnclass = \"sf\") %&gt;%\n  st_centroid()\n\n\ncentroids &lt;- world %&gt;%\n  select(Country = name_long, geometry) %&gt;%\n  st_coordinates() %&gt;%\n  as.data.frame() %&gt;%\n  bind_cols(Country = world$name_long)\n\n\n# Join coordinates to data\nq19_geo &lt;- q19_final %&gt;%\n  left_join(centroids, by = \"Country\") %&gt;%\n  filter(!is.na(X) & !is.na(Y))\n\n\n# Create diverging palette\nmax_val &lt;- max(abs(q19_geo$Total))\ndiverging_palette &lt;- colorNumeric(\n  palette = colorRampPalette(c(\"#440154\", \"#C7E9B4\", \"#5DC863\"))(100),\n  domain = c(-max_val * 0.5, max_val)\n)\n\n\n# Leaflet map (no search bar)\nleaflet(q19_geo) %&gt;%\n  addProviderTiles(providers$CartoDB.Positron) %&gt;%\n  addCircleMarkers(\n    lng = ~X,\n    lat = ~Y,\n    radius = 7,\n    color = ~diverging_palette(Total),\n    stroke = TRUE,\n    weight = 1,\n    opacity = 1,\n    fillOpacity = 0.9,\n    label = ~Country,\n    popup = ~paste0(\n      \"&lt;strong&gt;\", Country, \"&lt;/strong&gt;&lt;br&gt;\",\n      \"Net Agreement: \", round(Total * 100, 1), \"%\"\n    )\n  ) %&gt;%\n  addLegend(\n    \"bottomright\",\n    pal = diverging_palette,\n    values = ~Total,\n    title = \"Net % Agreement\",\n    labFormat = labelFormat(suffix = \"%\", transform = function(x) 100 * x),\n    opacity = 1\n  )"
  },
  {
    "objectID": "posts/2025-05-05-advanced-visualizations/index.html#third-data-visualization-improvement",
    "href": "posts/2025-05-05-advanced-visualizations/index.html#third-data-visualization-improvement",
    "title": "Advanced visualizations",
    "section": "Third Data Visualization Improvement",
    "text": "Third Data Visualization Improvement\nFor this third plot, you must use one of the other ggplot2 extension packages mentioned this week (e.g., gganimate, plotly, patchwork, cowplot).\n\nSelect a data visualization in the report that you think could be improved. Be sure to cite both the page number and figure title. Do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\n\nOriginal image (Source: Wellcome Global Monitor, 2018, p. 98.)\n\n\n\nreligion_science_disagreement.jpg\n\n\nThis plot intends to show how people tend to resolve informational disputes between science and the beliefs of their religion. Respondents had the choice of selecting “science”, “the teachings of my religion”, or “it depends”. Response rates are grouped by answer choice and also by geographical region.\n\nList the variables that appear to be displayed in this visualization.\n\nVariables include:\n\nPercentage of people who believe science, their religion, or “it depends” when faced with an informational conflict between the two\nGlobal region\nColor-coded bars so that different responses can be easily distinguished (colored Yellow for “Science”, Dark Blue for “Religion”, and Light Blue for “It depends”)\n\n\nNow that you’re versed in the grammar of graphics (ggplot), list the aesthetics used and which variables are specified for each.\n\n\nx is mapped to net percentage of the population in the global region that choose to believe either science, the teachings of their religion, or “it depends” when there is disagreement between them\ny is mapped to the global region\nfill is mapped to the response type\n\n\nWhat type of graph would you call this?\n\nI would call this a horizontal grouped bar plot. I would use geom_bar() to create this plot, with position = \"dodge\".\n\nList all of the problems or things you would improve about this graph.\n\nThis plot is a little harder to look at than the previous one. Here are the changes I would make:\n\nI would make the bars hoverable so that I can get rid of the copious percentages at the end of every bar.\nI would eliminate the legend and code the colors into the title / subtitle\nI would simplify the title\nI would make the x-axis showing percentages for easy visual estimations, but I would have fewer grid lines\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\nlibrary(dplyr)\nlibrary(ggtext)\n\n\n# Step 1: Add region labels based on country names\nwgm_clean &lt;- wgm_clean %&gt;%\n  mutate(Region = case_when(\n    Country %in% c(\"Kenya\", \"Tanzania\", \"Uganda\", \"Ethiopia\", \"Rwanda\", \"Burundi\") ~ \"Eastern Africa\",\n    Country %in% c(\"Chad\", \"Cameroon\", \"Central African Republic\", \"Democratic Republic of the Congo\") ~ \"Central Africa\",\n    Country %in% c(\"Algeria\", \"Morocco\", \"Tunisia\", \"Libya\", \"Egypt\") ~ \"North Africa\",\n    Country %in% c(\"South Africa\", \"Namibia\", \"Botswana\", \"Zimbabwe\", \"Lesotho\") ~ \"Southern Africa\",\n    Country %in% c(\"Nigeria\", \"Ghana\", \"Senegal\", \"Ivory Coast\", \"Sierra Leone\") ~ \"Western Africa\",\n\n    Country %in% c(\"Mexico\", \"Guatemala\", \"Honduras\", \"Nicaragua\", \"Costa Rica\", \"Panama\") ~ \"Central America & Mexico\",\n    Country %in% c(\"United States\", \"Canada\") ~ \"Northern America\",\n    Country %in% c(\"Brazil\", \"Argentina\", \"Colombia\", \"Chile\", \"Peru\", \"Venezuela\") ~ \"South America\",\n\n    Country %in% c(\"Kazakhstan\", \"Uzbekistan\", \"Kyrgyzstan\", \"Turkmenistan\", \"Tajikistan\") ~ \"Central Asia\",\n    Country %in% c(\"China\", \"Japan\", \"South Korea\", \"Taiwan\", \"Mongolia\") ~ \"East Asia\",\n    Country %in% c(\"Indonesia\", \"Thailand\", \"Vietnam\", \"Malaysia\", \"Philippines\", \"Myanmar\") ~ \"Southeast Asia\",\n    Country %in% c(\"India\", \"Pakistan\", \"Bangladesh\", \"Nepal\", \"Sri Lanka\") ~ \"South Asia\",\n\n    Country %in% c(\"Iran\", \"Iraq\", \"Saudi Arabia\", \"Turkey\", \"Jordan\", \"Lebanon\", \"Israel\") ~ \"Middle East\",\n    Country %in% c(\"Russia\", \"Ukraine\", \"Poland\", \"Romania\", \"Bulgaria\", \"Hungary\") ~ \"Eastern Europe\",\n    Country %in% c(\"United Kingdom\", \"Ireland\", \"Sweden\", \"Norway\", \"Denmark\") ~ \"Northern Europe\",\n    Country %in% c(\"Italy\", \"Spain\", \"Greece\", \"Portugal\") ~ \"Southern Europe\",\n    Country %in% c(\"France\", \"Germany\", \"Netherlands\", \"Belgium\", \"Switzerland\", \"Austria\") ~ \"Western Europe\",\n\n    Country %in% c(\"Australia\", \"New Zealand\") ~ \"Australia & New Zealand\",\n    TRUE ~ NA_character_\n  )\n)\n\n\n# Build region summary with only three meaningful responses\nq30_region_summary &lt;- wgm_clean %&gt;%\n  filter(Question == \"Q30 (If respondent believes science has disagreed with teachings of religion) Generally speaking, when science disagrees with the teachings of your religion, what do you believe? Science or the teachings of your religion?\") %&gt;%\n  filter(Response %in% c(\"Science\",\n                         \"The teachings of your religion\",\n                         \"(It depends)\")) %&gt;%\n  filter(!is.na(Region)) %&gt;%\n  group_by(Region, Response) %&gt;%\n  summarise(n = sum(`Unweighted Count...5`, na.rm = TRUE), .groups = \"drop\") %&gt;%\n  group_by(Region) %&gt;%\n  mutate(Percent = n / sum(n) * 100) %&gt;%\n  ungroup()\n\n\n# ✅ Recode labels to match fill colors\nq30_region_summary &lt;- q30_region_summary %&gt;%\n  mutate(Response = recode(Response,\n    \"The teachings of your religion\" = \"Religion\",\n    \"(It depends)\" = \"It depends\"\n  )\n)\n\n\nlibrary(ggplot2)\nlibrary(ggtext)\nlibrary(plotly)\n\n\n# ggplot object with tooltip and custom styling\nq30_hover_plot &lt;- ggplot(q30_region_summary, aes(\n  x = Region,\n  y = Percent,\n  fill = Response,\n  text = paste0(Response, \": \", round(Percent, 1), \"%\")\n  )\n) +\n  geom_col(position = \"dodge\", width = 0.75) +\n  scale_y_continuous(\n    breaks = seq(0, 75, by = 12.5),\n    labels = function(x) {\n      ifelse(x %in% c(25, 50, 75), paste0(x, \"%\"), \"\")\n    }\n  ) +\n  scale_fill_manual(\n    values = c(\n      \"Science\" = \"#FFD700\",\n      \"It depends\" = \"#00BFFF\",\n      \"Religion\" = \"#002147\"\n    )\n  ) +\n  labs(\n    title = NULL,        \n    subtitle = NULL,\n    x = NULL,\n    y = NULL,\n    fill = NULL\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    axis.text.y = element_text(size = 9),\n    axis.text.x = element_text(size = 9),\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 12),\n    plot.subtitle = element_markdown(size = 10),\n    plot.title.position = \"plot\",\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor.y = element_blank()\n  ) +\n  coord_flip()\n\n\n# Convert to interactive plot with custom title + subtitle\nggplotly(q30_hover_plot, tooltip = \"text\") %&gt;%\n  layout(\n    margin = list(l = 0, r = 10, t = 130, b = 50),\n    title = list(\n      text = paste0(\n        \"&lt;span style='font-size:18px'&gt;&lt;b&gt;Which Are You More Likely to Believe When There is Disagreement?&lt;/b&gt;&lt;/span&gt;&lt;br&gt;\",\n        \"&lt;span style='font-size:14px'&gt;\",\n        \"&lt;span style='color:#FFD700'&gt;&lt;b&gt;Science&lt;/b&gt;&lt;/span&gt;, \",\n        \"the &lt;span style='color:#002147'&gt;&lt;b&gt;Teachings of Your Religion&lt;/b&gt;&lt;/span&gt;, or \",\n        \"&lt;span style='color:#00BFFF'&gt;&lt;b&gt;It Depends&lt;/b&gt;&lt;/span&gt;\",\n        \"&lt;/span&gt;\"\n      ),\n      x = 0,\n      xanchor = \"left\",\n      yanchor = \"top\"\n    )\n  )"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Matt Babb",
    "section": "",
    "text": "Hello, everyone! My name is Matt (hence the title). Here is some sample text that I will update shortly. I am adding this text in order to test whether my page layout will in fact expand once there is more room needed. Let’s find out!"
  },
  {
    "objectID": "posts-listing-page.html",
    "href": "posts-listing-page.html",
    "title": "My Blog",
    "section": "",
    "text": "Advanced visualizations\n\n\n\nQuarto\n\nR\n\n\n\nExploring ideas about how to make visualizations both more appealing and more functional\n\n\n\nMatt Babb\n\n\nMay 5, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuarto dashboards (dynamic)\n\n\n\nQuarto\n\nR\n\nShiny\n\n\n\nTaking static dashboards and making them interactive using Shiny\n\n\n\nMatt Babb\n\n\nMay 5, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuarto dashboards (static)\n\n\n\nQuarto\n\nR\n\n\n\nMaking a Quarto dashboard with pages, tabs, and plots\n\n\n\nMatt Babb\n\n\nMay 5, 2025\n\n\n\n\n\n\nNo matching items"
  }
]